!function(e,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports["video/player/default-mode"]=o():e["video/player/default-mode"]=o()}(self,(function(){return function(){"use strict";var e={d:function(o,t){for(var l in t)e.o(t,l)&&!e.o(o,l)&&Object.defineProperty(o,l,{enumerable:!0,get:t[l]})},o:function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}},o={};e.d(o,{component:function(){return d}});var t,l=coreApis.componentApis.video.playerAgent,n=coreApis.spinQuery,a=coreApis.utils,r=coreApis.utils.urls;async function s(){null!==await(0,n.sq)((()=>dq(l.playerAgent.query.video.element.selector)),(e=>null!==e&&4===e.readyState&&"complete"===document.readyState&&document.hasFocus()))?l.playerAgent.fullscreen():console.warn("[默认播放器模式] 未能应用全屏模式, 等待超时.")}!function(e){e.Normal="常规",e.Wide="宽屏",e.WebFull="网页全屏",e.Full="全屏"}(t||(t={}));const d={name:"defaultPlayerMode",displayName:"默认播放器模式",entry:async({settings:{options:e}})=>{if((0,a.isEmbeddedPlayer)())return;await(0,a.playerReady)();const o=await l.playerAgent.query.video.element();if(!o)return;const n=new Map([[t.Normal,none],[t.Wide,()=>function(e){if(e){const e=window.scrollY,o={height:"100vh",overflow:"scroll"},t=lodash.pick(document.body.style,Object.keys(o));lodash.assign(document.body.style,o),document.body.scrollTo(0,e),l.playerAgent.widescreen(),lodash.assign(document.body.style,t),scrollTo(0,e)}else l.playerAgent.widescreen()}(e.disableRelocation)],[t.WebFull,()=>l.playerAgent.webFullscreen()],[t.Full,s]]).get(e.mode);e.applyOnPlay&&!l.playerAgent.isAutoPlay()?o.addEventListener("play",n,{once:!0}):n()},tags:[componentsTags.video],description:{"zh-CN":'控制是否使用默认播放器模式, 可以为`常规`, `宽屏`, `网页全屏`或`全屏`. 注意: 切换宽屏模式默认会进行重定位, 当与其他影响定位的功能一同使用时(如 "播放器定位"), 需要禁止该行为.',"en-US":"Set the default player mode. Could be `Normal`, `Widescreen`, `Web fullscreen` or `Fullscreen`.","ja-JP":"デフォルト・プレーヤー・モードが使用するかどうかを制御する、 例えば`常规`、`宽屏`、 `网页全屏`か`全屏`."},options:{mode:{defaultValue:t.Normal,displayName:"模式选择",dropdownEnum:t},disableRelocation:{defaultValue:!1,displayName:"切换宽屏时禁止重定位"},applyOnPlay:{defaultValue:!1,displayName:"播放时应用"}},urlInclude:r.allVideoUrls,commitHash:"4f9f420b8c596359d4aec5f323f864871c769560"};return o=o.component}()}));