(()=>(e,t)=>{const r=()=>{SpinQuery.select(".custom-scrollbar").then((e=>e&&e.classList.remove("custom-scrollbar")))};const l=()=>{document.body.classList.remove("dark");t.removeStyle("darkStyleNavBar");t.removeStyle("darkStyle");t.removeStyle("darkStyleImportant")};const o=["//member.bilibili.com/v2","//member.bilibili.com/video/upload.html","//member.bilibili.com/article-text/home","//www.bilibili.com/audio/submit/","//member.bilibili.com/studio/bs-editor/projects","//www.bilibili.com/s/video/"];const i=()=>{if(e.noDarkOnMember&&o.some((e=>{if(typeof e==="string"){return document.URL.replace(location.search,"").includes(e)}else{return e.test(document.URL.replace(location.search,""))}}))){l();return}document.body.classList.add("dark");r();if(!e.useDarkStyleAsUserStyle){t.applyImportantStyle("darkStyleNavBar");t.applyStyle("darkStyle");t.applyImportantStyle("darkStyleImportant")}};i();addSettingsListener("useDarkStyleAsUserStyle",(()=>{l();i()}));return{reload:i,unload:l}})();